<object clone="/obj/properties" owner="SkotOS">
  <Core:PropertyContainer>
    <Ur:UrObject urobject="OBJ(Ironclaw:Lib:Staff:Tools:UrStaffManagementPage)"/>
    <Core:PCProperties>
      <Core:Property property="html:complete">
         X[S] \<zform actor="\$(actor)" udat="\$(udat)" npc="\$(npc)"\>
You have finished creating \<b\>\$(npc)\</b\>. You will still need to dress it and add trading lists. The combat code is not set up so stick to just making merchants and roaming npcs for now.
\</zform\>
      </Core:Property>
      <Core:Property property="html:description">
         X[S] \<zform actor="\$(actor)" udat="\$(udat)" npc="\$(npc)"\>
\<table width="700px"\>
    \<tr\>\<td colspan="2"\>\<i\>Separate options with a comma. One will be chosen at random upon spawning. Descriptors indicated with a * are not used in all animal types.\<br/\>\</i\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You are a \<b\>[HEIGHT] [BUILD]\</b\> animal.\</td\>\</tr\>
    \<tr\>\<td width="140px"\>\<b\>Height:\</b\>\</td\>\<td\>\<input type="text" name="height" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Build:\</b\>\</td\>\<td\>\<input type="text" name="build" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[FUR LENGTH] [FUR TEXTURE] [FUR COLOR]\</b\> fur.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Fur Length\</b\>\</td\>\<td\>\<input type="text" name="furlength" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Fur Texture\</b\>\</td\>\<td\>\<input type="text" name="furtexture" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Fur Color:\</b\>\</td\>\<td\>\<input type="text" name="furcolor" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[HAIR LENGTH] [HAIR TEXTURE] [HAIR COLOR]\</b\> hair, in \<b\>[HAIR STYLE]\</b\>.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Hair Length:\</b\>\</td\>\<td\>\<input type="text" name="hairlength" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Hair Texture:\</b\>\</td\>\<td\>\<input type="text" name="hairtype" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Hair Color:\</b\>\</td\>\<td\>\<input type="text" name="haircolor" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Hair Style:\</b\>\</td\>\<td\>\<input type="text" name="hairstyle" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[EYE SHAPE] [EYE COLOR]\</b\> eyes, a \<b\>[NOSE SHAPE]\</b\> nose, and a \<b\>[MOUTH SHAPE]\</b\> with \<b\>[LIP SHAPE]\</b\> lips.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Eye Shape:\</b\>\</td\>\<td\>\<input type="text" name="eyeshape" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Eye Color:\</b\>\</td\>\<td\>\<input type="text" name="eyecolor" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Nose Shape:\</b\>\</td\>\<td\>\<input type="text" name="noseshape" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Mouth Shape:\</b\>\</td\>\<td\>\<input type="text" name="mouthshape" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Lip Shape:\</b\>\</td\>\<td\>\<input type="text" name="lipshape" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[CLAW APPEARANCE] [CLAW LENGTH]\</b\> claws at the end of \<b\>[HANDS]\</b\> hands, and \<b\>[FEET]\</b\> feet.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Claw \</b\>\</td\>\<td\>\<input type="text" name="clawapp" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Claw Length:\</b\>\</td\>\<td\>\<input type="text" name="clawlength" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Hands:\</b\>\</td\>\<td\>\<input type="text" name="hands" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Feet:\</b\>\</td\>\<td\>\<input type="text" name="feet" size="60"/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[EAR SHAPE]\</b\> ears.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Ear Shape:\</b\>\</td\>\<td\>\<input type="text" name="earshape" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[EYEBROW SHAPE]\</b\> eyebrows.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Eyebrow Shape:\</b\>\</td\>\<td\>\<input type="text" name="eyebrowshape" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[MUZZLE SHAPE]\</b\> muzzle.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Muzzle Shape:\</b\>\</td\>\<td\>\<input type="text" name="muzzleshape" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[SHELL]\</b\> shell.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Shell:\</b\>\</td\>\<td\>\<input type="text" name="shell" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[SKIN TEXTURE] [SKIN COLOR]\</b\> skin.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Skin Texture:\</b\>\</td\>\<td\>\<input type="text" name="skintexture" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Skin Color:\</b\>\</td\>\<td\>\<input type="text" name="skincolor" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[TAIL LENGTH] [TAIL TEXTURE]\</b\> tail.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Tail Length:\</b\>\</td\>\<td\>\<input type="text" name="taillength" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Tail Texture:\</b\>\</td\>\<td\>\<input type="text" name="tailtexture" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[ANTLER LENGTH] [ANTLER TEXTURE]\</b\> antlers.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Antler Length:\</b\>\</td\>\<td\>\<input type="text" name="antlerlength" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Antler Texture\</b\>\</td\>\<td\>\<input type="text" name="antlertexture" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[HORN LENGTH] [HORN TEXTURE]\</b\> horns.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Horn Length:\</b\>\</td\>\<td\>\<input type="text" name="hornlength" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Horn Texture:\</b\>\</td\>\<td\>\<input type="text" name="horntexture" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have a \<b\>[TUSK LENGTH] [TUSK TEXTURE]\</b\> tusks.\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Tusk Length:\</b\>\</td\>\<td\>\<input type="text" name="tusklength" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Tusk Texture:\</b\>\</td\>\<td\>\<input type="text" name="tusktexture" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>You have \<b\>[FACIAL HAIR]\</b\>. It is \<b\>[FACIAL HAIR LENGTH]\</b\>.*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Facial Hair:\</b\>\</td\>\<td\>\<input type="text" name="facialhair" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td\>\<b\>Facial Hair Length:\</b\>\</td\>\<td\>\<input type="text" name="faciallength" size="60"/\>*\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
    \<tr\>\<td colspan="2"\>\<input style="float:right" type="submit" value="Continue"/\>\</td\>\</tr\>
\</table\>
\<action\>
    \$["";  
      \$appearance = (\{ "height", "build", "furlength", "furtexture", "furcolor", "hairlength", "hairtype", "hairstyle", "eyeshape", "eyecolor", "noseshape", "mouthshape", "lipshape", "clawapp", "clawlength", "hands", "feet", "earshape", "eyebrowshape", "muzzleshape", "shell", "skintexture", "skincolor", "taillength", "tailtexture", "antlerlength", "antlertexture", "hornlength", "horntexture", "tusklength", "tusktexture", "facialhair", "faciallength" \});  
  
      \$npc = Obj(\$npc);  
   
      for(\$i = 0; \$i \< sizeof(\$appearance); \$i++) \{  
          \$temp = GetVar(\$appearance[\$i]);  
          if(\$temp \&\& \$temp != "") \{  
              \$temp = replace_strings(\$temp, ", ", ",", " , ", ",", " ,", ",");  
              \$temp2 = explode(\$temp, ",");  
              Set(\$npc, "export:randomize:appearance:" + \$appearance[\$i], \$temp2);  
          \}  
      \}  
  
      \$npc.stage = "complete";]
    \<redirect propob="\$(this)" npc="\$(npc)" actor="\$(actor)"/\>
\</action\>
\</zform\>
      </Core:Property>
      <Core:Property property="html:index">
         X[S] \<z dat="\$(UDat.Dat)" name="\$(UDat.Name)" host="\$(UDat.Host)" actor="\$(actor)"\>
    \$[/* run some initial code */       
        ::popup_initialize();       
        return nil;]
\$["\<!DOCTYPE HTML PUBLIC \\"-//W3C//DTD HTML 4.01 Transitional//EN\\" \\"http://www.w3.org/TR/html4/loose.dtd\\"/\>"]
\<html lang="en"\>
\<head\>
  \<title\>ICO Staff Portal\</title\>
\</head\>
\<body\>
\<h2\>NPC Creation\</h2\>
\{? \| \$(npc) \| \$[Get(\$this, "html:" + Str(Obj(\$npc).stage))] \| \$(this.html:no_body) \}
\</body\>
\</html\>
\</z\>
      </Core:Property>
      <Core:Property property="html:no_body">
         X[S] \{? \| \$(name_taken) \| \<font color="red"\>Sorry, that object already exists. Please choose a different name.\</font\>\<br/\> \}
\{? \| \$(name_empty) \| \<font color="red"\>You must enter a name for your npc.\</font\>\<br/\> \}
\{? \| \$(empty_subtype) \| \<font color="red"\>You must select at least one animal subtype.\</font\>\<br/\> \}
\{? \| \$(creature_error) \| \<font color="red"\>Sorry, creature selections are not yet supported.\</font\>\<br/\> \}
\<script\>
    function showDiv(select) \\\{
        if(select.value=='person') \\\{
            document.getElementById('subtype-person-div').style.display = 'block';
            document.getElementById('subtype-creature-div').style.display = 'none';
        \\\} else \\\{
            document.getElementById('subtype-person-div').style.display = 'none';
            document.getElementById('subtype-creature-div').style.display = 'block';
        \\\}
    \\\}
\</script\>
\<zform actor="\$(actor)" udat="\$(udat)"\>
\<table\>
\<tr\>\<td colspan="2"\>\<i\>Please only use this tool for creating non-player characters. Use chargen for VPs or other characters that will be possessed by staff.\</i\>\<br/\>\</td\>\</tr\>
\<tr\>\<td\>\<b\>Name:\</b\>\</td\>\<td\>Ironclaw:NPCs:\<input type="text" name="name"/\>\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
\<tr\>\<td\>\<b\>Brief:\</b\>\</td\>\<td\>\<input type="text" name="brief"/\> (\<i\>toll guard, a blacksmith, Mary Beth, etc\</i\>)\</td\>\</tr\>
\<tr\>\<td\>\</td\>\<td\>\<input type="checkbox" name="definite" checked="1"\>Definite\</input\> (\<i\>Uncheck this box to add 'a' or 'an' at the front of the brief\</i\>)\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
\<tr\>\<td\>\<b\>Gender:\</b\>\</td\>\<td\>\<input type="radio" name="gender" value="male" checked="1"\> Male \</input\>\<input type="radio" name="gender" value="female"\> Female\</input\>\<input type="radio" name="gender" value="none"\> None\</input\>\<input type="radio" name="gender" value="random"\> Random\</input\>\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
\<tr\>\<td\>\<b\>Type:\</b\>\</td\>\<td\>
\<select name="type" onchange="showDiv(this);"\>
    \<option value="person" selected="1"\>Person\</option\>
    \<option value="creature"\>Creature\</option\>
\</select\>
\</td\>\</tr\>
\<tr\>\<td valign="top"\>\<b\>Subtype:\</b\>\</td\>\<td\>
\<div id="subtype-person-div" style="display:block"\>
    \<table\>
    \<tr\>\<td colspan="5"\>\<i\>Selecting multiple animal types will create a list of options. One will be chosen at random when spawning.\</i\>\</td\>\</tr\>
    \<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="armadillo"\>Armadillo\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="badger"\>Badger\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="bat"\>Bat\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="bear-black"\>Black Bear\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="bear-brown"\>Brown Bear\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="boar"\>Boar\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="bull"\>Bull\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="cat-common" checked="1"\>Common Cat\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="cheetah"\>Cheetah\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="cow"\>Cow\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="coyote"\>Coyote\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="deer"\>Deer\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="dhole"\>Dhole\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="dog-common"\>Common Dog\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="donkey"\>Donkey\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="fox"\>Fox\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="fox-gray"\>Gray Fox\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="goat"\>Goat\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="gorilla"\>Gorilla\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="horse"\>Horse\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="jackal"\>Jackal\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="lion"\>Lion\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="lioness"\>Lioness\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="lynx-bobcat"\>Bobcat Lynx\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="monkey"\>Monkey\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="mouse"\>Mouse\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="otter"\>Otter\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="polecat"\>Polecat\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="porcupine"\>Porcupine\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="rabbit"\>Rabbit\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="raccoon"\>Raccoon\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="rat"\>Rat\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="rhinoceros"\>Rhinoceros\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="shrew-land"\>Land Shrew\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="shrew-water"\>Water Shrew\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="skunk"\>Skunk\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="squirrel"\>Squirrel\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="vole-common"\>Common Vole\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="vole-water"\>Water Vole\</input\>\</td\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="weasel"\>Weasel\</input\>\</td\>
    \</tr\>\<tr\>
        \<td\>\<input type="checkbox" name="subtype-person[]" value="wolf"\>Wolf\</input\>\</td\>
        \<td\>\</td\>
        \<td\>\</td\>
        \<td\>\</td\>
        \<td\>\</td\>
    \</tr\>
    \</table\>
\</div\>
\<div id="subtype-creature-div" style="display:none"\>
    \<table\>
        \<tr\>\<td\>\<input type="radio" name="subtype-creature" value="air" checked="1"\>Winged Creature\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="radio" name="subtype-creature" value="land" checked="1"\>Land Creature\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="radio" name="subtype-creature" value="water" checked="1"\>Water Creature\</input\>\</td\>\</tr\>
    \</table\>
\</div\>
\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
\<tr\>\<td valign="top"\>\<b\>Addons:\</b\>\</td\>\<td\>
    \<table\>
        \<tr\>\<td\>\<input type="checkbox" name="addons-trader" value="trader"\>This NPC will be a trader.\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="checkbox" name="addons-fighter" value="fighter"\>This NPC will be fighter.\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="checkbox" name="addons-quest-giver" value="quest-giver"\>This NPC will be a quest giver.\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="checkbox" name="addons-mover" value="mover"\>This NPC will move around.\</input\>\</td\>\</tr\>
        \<tr\>\<td\>\<input type="checkbox" name="addons-courier" value="courier"\>This NPC will be a courier.\</input\>\</td\>\</tr\>
    \</table\>
\</td\>\</tr\>
\<tr\>\<td valign="top"\>\<b\>Note:\</b\>\</td\>\<td\>\<textarea name="notes" rows="4" cols="50"/\>\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<br/\>\</td\>\</tr\>
\<tr\>\<td colspan="2"\>\<input style="float:right" type="submit" value="Continue"/\>\</td\>\</tr\>
\</table\>
\<action\>
    \$["";          
        /* Make sure object name is valid */          
        if(!\$name \|\| \$name == "") \{        
            \$error = 1;        
            \$name_empty = 1;        
            return FALSE;        
        \}        
     
        \$obname = "Ironclaw:NPCs:" + \$name;       
        if(Obj(\$obname)) \{          
            \$error = 1;          
            \$name_taken = 1;          
            return FALSE;          
        \}          
          
        /* Object name is valid. Let's go ahead and create the object based on the selected Ur type. */          
        if(\$type == "person") \{          
            /* Make sure at least one animal type was selected */     
            if(!\$(subtype-person) \|\| !sizeof(\$(subtype-person))) \{     
                \$error = 1;     
                \$empty_subtype = 1;     
                return FALSE;     
            \}     
     
            /* Spawn the generic ur */     
            \$npc = Spawn(\$\{Ironclaw:NPCs:UrNPC-Generic\});     
     
            /* Set the objectname */     
            \$npc."base:objectname" = Str(\$obname);          
            \$npc."core:objectname" = Str(\$obname);          
            if(\$definite) \$npc."details:default:definite:local" = TRUE;     
            \$npc."export:trait:brief" = Str(\$brief);     
            \$npc."export:randomize:animals" = \$(subtype-person);     
        \} else \{          
            /* Creature option not yet supported */          
            \$error = 1;          
            \$creature_error = 1;          
            return FALSE;          
        \}          
       
        /* Now lets set the gender */          
        if(\$gender == "none") \$npc."base:gender" = 0;          
        if(\$gender == "male") \$npc."base:gender" = 1;          
        if(\$gender == "female") \$npc."base:gender" = 2;          
        if(\$gender == "random") \$npc."export:randomize:gender" = (\{ "female", "male" \});          
   
        if(\$(addons-fighter)) \{   
            \$npc."export:addon:fighter" = TRUE; 
        \}   
          
        if(\$(addons-trader)) \{          
            \$npc."export:addon:trader" = TRUE;      
        \}          
          
        if(\$(addons-mover)) \{          
            \$npc."export:addon:mover" = TRUE; 
        \}          
          
        if(\$(addons-quest-giver)) \{          
            \$npc."export:addon:quest-giver" = TRUE;      
        \}          
          
        if(\$(addons-courier)) \{          
            \$npc."export:addon:courier" = TRUE;         
        \}     
          
        /* Add the note */          
        if(\$notes) \{          
            \$npc.about = \$notes;     
        \}      
      
        \$npc.stage = "description";]
     \{? \| \$(error) \| \<redirect propob="\$(this)" empty_subtype="\$(empty_subtype)" name_empty="\$(name_empty)" name_taken="\$(name_taken)" creature_error="\$(creature_error)" actor="\$(actor)"/\> \| \<redirect propob="\$(this)" npc="\$(npc)" actor="\$(actor)"/\> \}
\</action\>
\</zform\>
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1521389291, "jominey", "E", 1521389599, "jominey", "E", 1521389697, "jominey", "E", 1521389760, "jominey", "E", 1521389893, "jominey", "E", 1521390113, "jominey", "E", 1521390282, "jominey", "E", 1521394531, "jominey", "E", 1521394688, "jominey", "E", 1521395144, "jominey", "E", 1521395153, "jominey", "E", 1521395182, "jominey", "E", 1521395194, "jominey", "E", 1521395481, "jominey", "E", 1521395527, "jominey", "E", 1521395610, "jominey", "E", 1521395738, "jominey", "E", 1521395962, "jominey", "E", 1521396017, "jominey", "E", 1521396163, "jominey", "E", 1521397161, "jominey", "E", 1521397286, "jominey", "E", 1521398688, "jominey", "E", 1521398891, "jominey", "E", 1521399023, "jominey", "E", 1521399067, "jominey", "E", 1521399120, "jominey", "E", 1521399374, "jominey", "E", 1521399478, "jominey", "E", 1521399599, "jominey", "E", 1521400605, "jominey", "E", 1521400863, "jominey", "E", 1521400980, "jominey", "E", 1521401020, "jominey", "E", 1521401104, "jominey", "E", 1521401161, "jominey", "E", 1521401204, "jominey", "E", 1521401779, "jominey", "E", 1521402189, "jominey", "E", 1521402685, "jominey", "E", 1521403119, "jominey", "E", 1521403183, "jominey", "E", 1521403345, "jominey", "E", 1521403408, "jominey", "E", 1521403816, "jominey", "E", 1521403853, "jominey", "E", 1521403891, "jominey", "E", 1521403904, "jominey", "E", 1521403930, "jominey", "E", 1521404030, "jominey", "E", 1521404081, "jominey", "E", 1521404128, "jominey", "E", 1521404145, "jominey", "E", 1521404194, "jominey", "E", 1521404222, "jominey", "E", 1521404277, "jominey", "E", 1521404295, "jominey", "E", 1521404459, "jominey", "E", 1521404511, "jominey", "E", 1521404731, "jominey", "E", 1521404791, "jominey", "E", 1521405795, "jominey", "E", 1521405938, "jominey", "E", 1521407095, "jominey", "E", 1521410396, "jominey", "E", 1521410482, "jominey", "E", 1521410527, "jominey", "E", 1521410538, "jominey", "E", 1521410628, "jominey", "E", 1521410683, "jominey", "E", 1521410706, "jominey", "E", 1521410755, "jominey", "E", 1521410888, "jominey", "E", 1521410927, "jominey", "E", 1521410948, "jominey", "E", 1521410964, "jominey", "E", 1521410979, "jominey", "E", 1521411786, "jominey", "E", 1521411977, "jominey", "E", 1521412005, "jominey", "E", 1521412035, "jominey", "E", 1521412244, "jominey", "E", 1521412900, "jominey", "E", 1521413689, "jominey", "E", 1521413748, "jominey", "E", 1521421424, "jominey", "E", 1521421535, "jominey", "E", 1521421577, "jominey", "E", 1521421732, "jominey", "E" \})
      </Core:Property>
    </Core:PCProperties>
    <Notes:Notes/>
  </Core:PropertyContainer>
</object>
