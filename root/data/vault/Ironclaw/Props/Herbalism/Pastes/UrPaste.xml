<object clone="/base/obj/thing" owner="balkaar">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Allegory:Props:Food:UrFood)"/>
    <Base:Bulk immobile="false" mass="0.03" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="1" maxweight="1"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="none" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst/>
      <Base:DrinkMessageThird/>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst/>
      <Base:DieMessageThird/>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="paste"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="pastes"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives/>
        <Base:Descriptions>
          <Base:Description type="brief">
             some $(this.trait:type) paste
          </Base:Description>
          <Base:Description type="examine">
             Some fragrant $(this.trait:color) paste made from $(this.trait:type) used in various healing and gardening potions and oils. It is stored in a small clay pot.
          </Base:Description>
          <Base:Description type="glance">
             Some fragrant $(this.trait:color) paste made from $(this.trait:type) stored in a small clay pot.
          </Base:Description>
          <Base:Description type="look">
             Some fragrant $(this.trait:color) paste made from $(this.trait:type) stored in a small clay pot.
          </Base:Description>
          <Base:Description type="pbrief">
             $(this.trait:color) $(this.trait:type) pastes
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="pot" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="pot"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="pots"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="clay"/>
          <Base:Adjective adjective="small"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             small pot
          </Base:Description>
          <Base:Description type="examine">
             A small pot containing some fragrant $(this.trait:type) paste.
          </Base:Description>
          <Base:Description type="look">
             A small pot containing some $(this.trait:type) paste.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="1"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties/>
    <Core:Properties>
      <Core:Property property="export:alteration:add:default:bandage">
         ([ "adj-prop":(\{ "trait:color" \}), "newobject":\<Allegory:Props:Tools:Healer:Poultice\>, "properties":(\{ (\{ "trait:material", "trait:material" \}), (\{ "trait:color", "trait:color" \}), (\{ "trait:type", "trait:type" \}), (\{ "trait:smell", "trait:smell" \}) \}), "skill":"herbalism" ])
      </Core:Property>
      <Core:Property property="export:trait:objecttype">
         "paste"
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:apply-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:bite-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:chew-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:drink-what">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:eat-what">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:gobble-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:inhale-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:nibble-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:rub-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:savor-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:savour-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:inherit:react-post:taste-dob">
         \<Ironclaw:Props:Herbalism:EffectLib\>
      </Core:Property>
      <Core:Property property="merry:react-pre:add-dob">
         X[M] if(\$iob \&\& sizeof(\$iob) == 1 \&\& NRefOb(\$iob[0])."base:environment" == \$actor) \{
  if(NRefOb(\$iob[0])."base:urparent" != \$\{Allegory:Props:Plants:T:Tobacco:TobaccoLeaf\}) return TRUE;
  if(FALSE \&\& NRefOb(\$iob[0])."trait:flavor" == this."trait:flavor") \{
    EmitTo(\$actor, "There's no point flavoring "+Describe(\$iob[0], nil, \$actor)+", as it is already "+this."trait:type"+" flavored.");
    return FALSE;
\}

  this."trait:quantity" = Int(this."trait:quantity") - 1;
  EmitTo(\$actor, "You flavor "+Describe(\$iob[0], nil, \$actor)+" with "+Describe(this, nil, \$actor)+".");
  EmitIn(\$actor."base:environment", Describe(\$actor)+" flavors "+Describe(\$iob[0], \$actor)+" with "+Describe(this, \$actor)+".", \$actor);

  NRefOb(\$iob[0])."trait:flavor" = this."trait:type";
  NRefOb(\$iob[0])."trait:smell" = this."trait:smell";
  NRefOb(\$iob[0])."trait:taste" = this."trait:taste";

  Slay(\$this);
  return FALSE;
\}
return TRUE;
      </Core:Property>
      <Core:Property property="merry:react-pre:drip-iob">
         X[M] int found, i, sz;      
object blood;      
      
\$vessel = NRefOb(\$dob[0]);      
\$liquid = \$\{Ironclaw:Props:Plot:Spider:Blood\};      
      
/* set \$liquid to water for testing */      
/*\$liquid = \$\{Ironclaw:Props:Food/Drink:Drinks:Water\};*/      
      
\$content = \$vessel."base:inventory";      
      
sz = sizeof(\$content);      
found = FALSE;      
      
if(\$this."trait:blood") \{      
   EmitTo(\$actor, "The paste seems to have something already dripped in it.");      
   return FALSE;      
\}      
      
for (i = 0; !found \&\& i \< sz; i++) \{      
    if (\$content[i]."core:ur:parent" == \$liquid) \{      
        found = TRUE;      
        blood = \$content[i];      
    \}      
\}      
      
if (found) \{      
    EmitTo(\$actor, "You slowly drip the blood on the paste.");      
    EmitIn(\$actor."base:environment", Describe(\$actor)+" slowly drips some fluid into a little pot containing some paste.", \$actor);      
    \$this."trait:blood" = TRUE;      
    /* skill set */      
    \$gardener = Int(\$actor."skill:career:gardener");      
      
    /* check for skill, if low make paste unbearable */      
    if(\$gardener \< 4) \{      
        \$this."trait:color" = "muddy brown";      
        \$this."trait:taste" = "sulfur with a metallic aftertaste";      
        \$this."trait:smell" = "nose-tweaking sulfur with some rusty overtone";      
        if(blood."trait:color" == "yellowish") \{      
             Set(\$this,"trait:effect", "spideritch");      
        \}      
        Slay(blood);      
        EmitTo(\$actor, "You continue to stir the paste, drip by drip adding your vessel's content, the blood mingles with the paste, which burbles under your care. With an abrupt assault the stench of sulfur invades your nose, while the paste takes a muddy brown color.");      
       EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to stir the paste, drip by drip adding the blood to the paste. The blood mingles with the herb, which subtly burbles in the pot. With an abrupt assault the stench of sulfur invades your nose, while the paste takes a muddy brown color.", \$actor);      
    \} else if (\$gardener \> 3) \{      
     /* if medium skill, make 1 paste */      
        \$this."trait:color" = "dark red";      
        \$this."trait:taste" = "an assortment of flavorful herbs and subtly of iron";      
        \$this."trait:smell" = "rich selection of aromatic herbs with a metallic undertone";      
        if(blood."trait:color" == "yellowish") \{      
             Set(\$this,"trait:effect", "spideritch");      
             \$this."trait:color" = "dark orange";      
             \$this."trait:taste" = "an assortment of flavorful herbs and subtly of sulfur";      
             \$this."trait:smell" = "rich selection of aromatic herbs with the undertone of sulfur";      
        \}      
        Slay(blood);      
      
        /* if high skill, make two pastes */      
        if(\$gardener \> 10) \{      
         \$paste = Duplicate(\$this);      
         \$paste."base:environment" = \$actor;      
         EmitTo(\$actor, "You continue to stir the paste, drip by drip adding your vessel's content, the blood mingles with the paste, which burbles under your care. You agilely mix the ingredients, your skill rewards you with enough paste to store in two pots.");      
        EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to stir the paste, drip by drip adding the blood to the paste. The blood mingles with the herb, which subtly burbles in the pot. As the ingredients mix, the bubbles stop forming ripples on the surface of the paste. "+Describe(\$actor)+" parts the result in two separate pots.", \$actor);              
        \} else \{      
         EmitTo(\$actor, "You continue to stir the paste, drip by drip adding your vessel's content, the blood mingles with the paste, which burbles under your care. Smoothly you bring your hand to a halt leaving you with some uniquely colored paste.");      
         EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to stir the paste, drip by drip adding the blood to the paste. The blood mingles with the herb, which subtly burbles in the pot. The paste's color slowly changes as the bubbling comes to a halt.", \$actor);      
        \}      
    \}      
\} else \{      
    EmitTo(\$actor, "You need some blood to drip into this paste.");      
\}      
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react-pre:mix-iob">
         X[M] int found, i, sz;      
object grease;      
      
\$vessel = NRefOb(\$dob[0]);      
\$liquid = \$\{PendingDeletion:Props:Food:Ingredients:Grease\};      
      
/* set \$liquid to water for testing */      
/*\$liquid = \$\{Ironclaw:Props:Food/Drink:Drinks:Water\};*/      
      
\$content = \$vessel."base:inventory";      
      
sz = sizeof(\$content);      
found = FALSE;      
      
for (i = 0; !found \&\& i \< sz; i++) \{      
    if (\$content[i]."core:ur:parent" == \$liquid) \{      
        found = TRUE;      
        grease = \$content[i];      
    \}      
\}      
      
if (found) \{      
    EmitTo(\$actor, "You slowly mix your grease into the paste.");      
    EmitIn(\$actor."base:environment", Describe(\$actor)+" slowly mixes some grease into a little pot containing some paste.", \$actor);      
      
    /* skill set */      
    \$healer = Int(\$actor."skill:career:healer");      
      
    /* check for skill, if low make paste unbearable */      
    if(\$healer \< 4) \{      
        \$this."trait:color" = "muddy grey";      
        \$this."trait:taste" = "grease with sulfur and a metallic aftertaste";      
        \$this."trait:smell" = "nose-tweaking sulfur with some rusty overtone";      
        Slay(grease);      
        EmitTo(\$actor, "You continue to stir the paste, mixing it with your vessel's content, the grease mingles with the paste, which burbles under your care. With an abrupt assault the stench of sulfur invades your nose, while the paste takes a muddy grey color.");      
    EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to stir the paste, mixing the grease with the paste. The grease mingles with the herb, which subtly burbles in the pot. With an abrupt assault the stench of sulfur invades your nose, while the paste takes a muddy grey color.", \$actor);      
      
    /* if high skill, make two pastes */      
    \} else if(\$healer \> 10) \{      
        \$salveone = Spawn(\$\{Ironclaw:Props:Herbalism:Salves:UrSalve\});      
        \$salveone."trait:color" = \$this."trait:color";      
        \$salveone."trait:taste" = \$this."trait:taste";      
        \$salveone."trait:smell" = \$this."trait:smell";      
        \$salveone."trait:material" = \$this."trait:material";      
        \$salveone."base:environment" = \$actor;      
        \$salveone."trait:effect" = \$this."trait:effect";      
      
        \$salvetwo = Spawn(\$\{Ironclaw:Props:Herbalism:Salves:UrSalve\});      
        \$salvetwo."trait:color" = \$this."trait:color";      
        \$salvetwo."trait:taste" = \$this."trait:taste";      
        \$salvetwo."trait:smell" = \$this."trait:smell";      
        \$salvetwo."trait:material" = \$this."trait:material";      
        \$salvetwo."base:environment" = \$actor;      
        \$salvetwo."trait:effect" = \$this."trait:effect";      
        Slay(grease);      
      
        EmitTo(\$actor, "You continue to mix the grease with the paste, gradually adding your vessel's content, the grease mingles with the paste, which burbles under your care. You agilely mix the ingredients, your skill rewards you with enough salve to store in two tubes.");      
        EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to mix the paste with the grease, gradually adding the grease to the paste. The ingredients mingle with the herb, which subtly burbles in the pot. As the parts mix, the bubbles stop forming ripples on the surface of the paste. "+Describe(\$actor)+" parts the result in two separate tubes.", \$actor);      
      
    \} else if(\$healer \> 3 \&\& \$healer \< 11) \{      
    /* if medium skill, make 1 paste */      
        \$salveone = Spawn(\$\{Ironclaw:Props:Herbalism:Salves:UrSalve\});      
        \$salveone."trait:color" = \$this."trait:color";      
        \$salveone."trait:taste" = \$this."trait:taste";      
        \$salveone."trait:smell" = \$this."trait:smell";      
        \$salveone."trait:material" = \$this."trait:material";      
        \$salveone."base:environment" = \$actor;      
        \$salveone."trait:effect" = \$this."trait:effect";      
        \}      
        Slay(grease);      
        EmitTo(\$actor, "You continue to mix the paste, gradually adding your vessel's content, the grease mingles with the paste, which burbles under your care. Smoothly you bring your hand to a halt leaving you with some uniquely colored greasy salve.");      
        EmitIn(\$actor."base:environment", Describe(\$actor)+" continues to mix the paste, gradually adding the grease to the paste. The grease mingles with the herb, which subtly burbles in the pot. The paste's color slowly changes as the bubbling comes to a halt.", \$actor);      
      
\} else \{      
    EmitTo(\$actor, "You need some other ingredients to mix with this paste.");      
\}
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1250009026, "balkaar", "R", 1250097151, "balkaar", "E", 1250097545, "balkaar", "E", 1250097661, "balkaar", "E", 1250198553, "balkaar", "E", 1250198604, "balkaar", "E", 1250198722, "balkaar", "E", 1250550545, "balkaar", "E", 1250558453, "balkaar", "E", 1250558651, "balkaar", "E", 1250559626, "balkaar", "E", 1250559700, "balkaar", "E", 1250559902, "balkaar", "E", 1250560078, "balkaar", "E", 1250560152, "balkaar", "E", 1250561015, "balkaar", "E", 1250561077, "balkaar", "E", 1250562953, "balkaar", "E", 1250606183, "balkaar", "E", 1250606736, "balkaar", "E", 1250607343, "nino", "P", 1250607563, "nino", "P", 1250610745, "balkaar", "E", 1250610753, "balkaar", "E", 1250610775, "balkaar", "E", 1250611101, "balkaar", "E", 1250619624, "balkaar", "E", 1250641788, "tonyd", "P", 1250641885, "tonyd", "P", 1250642036, "tonyd", "P", 1250863757, "balkaar", "E", 1250863797, "balkaar", "E", 1250863814, "balkaar", "E", 1250863850, "balkaar", "E", 1250863897, "balkaar", "E", 1250863942, "balkaar", "E", 1250863986, "balkaar", "E", 1250864019, "balkaar", "E", 1250864058, "balkaar", "E", 1250864168, "balkaar", "E", 1251020328, "balkaar", "E", 1251020613, "balkaar", "E", 1251021689, "balkaar", "E", 1251022143, "balkaar", "E", 1251024258, "balkaar", "E", 1251024274, "balkaar", "E", 1251024415, "balkaar", "E", 1251024462, "balkaar", "E", 1251024976, "balkaar", "E", 1251025426, "balkaar", "E", 1251026258, "balkaar", "E", 1251026756, "balkaar", "E", 1251026845, "balkaar", "E", 1251027307, "balkaar", "E", 1251027424, "balkaar", "E", 1251027449, "tonyd", "P", 1251028913, "balkaar", "E", 1251151075, "balkaar", "E", 1251666612, "balkaar", "E", 1251667226, "balkaar", "E", 1251681623, "balkaar", "E", 1251682014, "balkaar", "E", 1251682402, "balkaar", "E", 1251685144, "balkaar", "E", 1252244531, "balkaar", "E", 1252247307, "balkaar", "E", 1252275724, "jominey", "E", 1252276185, "balkaar", "E", 1252276781, "balkaar", "E", 1252277737, "balkaar", "E", 1253243134, "tonyd", "P", 1277863998, "jominey", "E", 1277864036, "jominey", "E", 1318343897, "meandmine", "X", 1318361166, "meandmine", "X", 1318362290, "meandmine", "X", 1318905753, "meandmine", "X", 1318905767, "meandmine", "X", 1318968186, "meandmine", "X", 1327975863, "jominey", "R", 1327975926, "jominey", "R", 1347220573, "jominey", "R", 1375135432, "meandmine", "E", 1436497935, "jominey", "K", 1436498162, "jominey", "P", 1436498202, "jominey", "P", 1436498403, "jominey", "P", 1458700342, "slurpeeslurp", "E", 1458700350, "slurpeeslurp", "E", 1458700355, "slurpeeslurp", "E", 1518572378, "ezralee", "K", 1696731505, "ezralee", "E", 1696731690, "ezralee", "E", 1696731739, "ezralee", "E", 1696731828, "ezralee", "E", 1696731847, "ezralee", "E", 1696731921, "ezralee", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
      <Core:Property property="trait:accepts">
         "paste"
      </Core:Property>
      <Core:Property property="trait:objecttype">
         "paste"
      </Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
