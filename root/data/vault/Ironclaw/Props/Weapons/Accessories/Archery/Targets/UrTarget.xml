<object clone="/base/obj/thing" owner="tonyd">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Allegory:Props:Crafting:UrCrafting)"/>
    <Base:Bulk immobile="false" mass="0.01" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="0" maxweight="0" verb2="are carrying" verb3="is carrying"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="none" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst/>
      <Base:DrinkMessageThird/>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst/>
      <Base:DieMessageThird/>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="target"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="targets"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="archery"/>
          <Base:Adjective adjective="practice"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the <acmd tag="command" cmd="shoot $(this.distance)-foot target">$(this.distance)-foot</acmd> practice target
          </Base:Description>
          <Base:Description type="examine">
             A large practice <acmd tag="command" cmd="shoot $(this.distance)-foot target">target</acmd> for crossbows. It is a canvas circle four feet high by four feet wide, and is stuffed with hay six inches thick. Bright paint of red, blue and black is used to create large circles on a white background, making a bull's eye with several possible point sections. The target is supported by several cross pieces of wood. This particularly target has been placed $(this.distance) feet from the red "shooting" line.
          </Base:Description>
          <Base:Description type="look">
             A large practice <acmd tag="command" cmd="shoot $(this.distance)-foot target">target</acmd> for crossbows which has been placed $(this.distance) feet from the red line. A giant stuffed circle, it has several circles painted in red, blue and black, which nest in one another to create a large bull's eye.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="background" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="background"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="backgrounds"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="painted"/>
          <Base:Adjective adjective="practice"/>
          <Base:Adjective adjective="target"/>
          <Base:Adjective adjective="white"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the white background of a practice target
          </Base:Description>
          <Base:Description type="look">
             The white background of a practice target. It enables the bright rings to be seen easier from a distance.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="bullseye" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="bullseye"/>
            <Base:SName sname="eye"/>
            <Base:SName sname="bulls-eye"/>
            <Base:SName sname="center"/>
            <Base:SName sname="middle"/>
            <Base:SName sname="ring"/>
            <Base:SName sname="circle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="bulls-eyes"/>
            <Base:PName pname="bullseyes"/>
            <Base:PName pname="centers"/>
            <Base:PName pname="eyes"/>
            <Base:PName pname="middles"/>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="bull"/>
          <Base:Adjective adjective="bulls"/>
          <Base:Adjective adjective="bulls-eye"/>
          <Base:Adjective adjective="bullseye"/>
          <Base:Adjective adjective="inner"/>
          <Base:Adjective adjective="innermost"/>
          <Base:Adjective adjective="middle"/>
          <Base:Adjective adjective="practice"/>
          <Base:Adjective adjective="red"/>
          <Base:Adjective adjective="target"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the innermost ring of a practice target
          </Base:Description>
          <Base:Description type="look">
             The innermost ring of a practice target. The red bullseye.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="outerring" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="ring"/>
            <Base:SName sname="circle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="black"/>
          <Base:Adjective adjective="outer"/>
          <Base:Adjective adjective="outermost"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the outermost ring of a practice target
          </Base:Description>
          <Base:Description type="look">
             The outermost ring of a practice target. It is the black ring farthest away from the bullseye.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="secondring" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="ring"/>
            <Base:SName sname="circle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="blue"/>
          <Base:Adjective adjective="middle"/>
          <Base:Adjective adjective="secondary"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the middle ring of a practice target
          </Base:Description>
          <Base:Description type="look">
             The second ring of a practice target. It is the blue ring encircling the bullseye.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="10"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties>
      <Base:InitialProperty property="archery:target">
         "true"
      </Base:InitialProperty>
    </Base:InitialProperties>
    <Core:Properties>
      <Core:Property property="archery:target">
         "true"
      </Core:Property>
      <Core:Property property="export:distance">25</Core:Property>
      <Core:Property property="merry:lib:shoot_at_target">
         X[M] /* Roll the actors archery skill */
\$roll = ironclaw::roll(\$roller: \$actor, \$dicearray: nil, \$skills: (\{ "combat:ranged", "combat:gun", "trait:agility" \}), \$bonus: "trait:mind");
if(this.distance \>= 100) \{
 \$roll += 0;
\} else if(this.distance \>= 75) \{
 \$roll += 1;
\} else if(this.distance \>= 50) \{
 \$roll += 2;
\} else if(this.distance \>= 35) \{
 \$roll += 3;
\} else if(this.distance \>= 25) \{
 \$roll += 4;
\}
if(\$roll \> 24) \$roll = 24;

/* display a message on how well the shot went */
\$message = "";

switch(\$roll) \{
case 24:
  \$message = "A " +oneof("twang", "thrum")+ " echoes through the room as " + Describe(\$actor) + " aims true to hit the " +oneof("blue ring", "black ring", "bullseye")+ " of " +Describe(\$this)+ ".";
  break;
case 23:
case 22:
  \$message = "A " +oneof("twang", "thrum")+ " echoes through the room as " + Describe(\$actor) + " aims true to hit the " +oneof("blue ring", "black ring", "bullseye")+ " of " +Describe(\$this)+ ".";
  break;
case 21:
case 20:
case 19:
case 18:
  \$message = Describe(\$actor)+ " takes carefully aim before releasing " + \$actor."base:possessive" + " arrow into the air and straight for " +Describe(\$this)+ ". It flies swiftly with a " +oneof("piercing", "high-pitched", "whining") + " streak of sound before it strikes " +oneof("the true center of the bullseye", "the inner edge of the blue ring", "the outer edge of the black ring", "the floorboards about one foot short of the mark", "the white outer edges of the target which have no value at all")+ ".";
  break;
case 17:
case 16:
case 15:
case 14:
case 13:
case 12:
  \$message = Describe(\$actor)+ " frees an arrow from " + \$actor."base:possessive" + " bow and watches hopefully as it veers directly for " +Describe(\$this) + ", landing well within the " +oneof("bullseye", "blue circle", "black circle")+ ".";
  break;
case 11:
case 10:
case 9:
case 8:
  \$message = (\{ Describe(\$actor) + "'s arrow simply falls from the bow and lands flatly at " + \$actor."base:possessive" + " feet." \});
  break;
case 7:
case 6:
case 5:
case 4:
  \$message = (\{ "A " + oneof("thud", "thunk", "snap", "short whistle")+ " " + oneof("resounds throughout", "echoes through", "fills", "carries in") + " " + Describe(\$this."base:environment") + " when the arrow of " +Describe(\$actor) + " falls short of " +Describe(\$this)+ " and hits the floorboards." \});
  break;
default:
  \$message = (\{ Describe(\$actor) + " fails miserably. There is little point in even explaining the action of " + \$actor."base:possessive" + " arrow since it would only be cause for more embarrassment and ridicule." \});
break;
\}

/* remove the array from output */
\$message = Arr(\$message);
\$message = \$message[random(sizeof(\$message))];

EmitIn(\$this."base:environment", \$message);

return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:shoot-dob">
         X[M] /* check the actor has a bow */
\$inv = \$actor."base:inventory";
for(\$i=0;\$i\<sizeof(\$inv);\$i++)
\{
  if(\$inv[\$i]."trait:objecttype" == "bow")
  \{
    /* we have a bow */
    \$found = 1;
    break;
  \}
\}
if(!\$found) \{
  /* We didn't find a bow */
  EmitTo(\$actor, "You need a bow before you can shoot the targets.");
  return FALSE;
\}

::shoot_at_target();
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:shoot-iob">
         X[M] /* check the actor has a bow */
\$inv = \$actor."base:inventory";
for(\$i=0;\$i\<sizeof(\$inv);\$i++)
\{
  if(\$inv[\$i]."trait:objecttype" == "bow")
  \{
    /* we have a bow */
    \$found = 1;
    break;
  \}
\}
if(!\$found) \{
  /* We didn't find a bow */
  EmitTo(\$actor, "You need a bow before you can shoot the targets.");
  return FALSE;
\}

::shoot_at_target();
return FALSE;
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1131509153, "tunk_bodin", "X", 1131509252, "tunk_bodin", "X", 1131509446, "tunk_bodin", "X", 1131510131, "tunk_bodin", "X", 1131510303, "tunk_bodin", "X", 1131510871, "tunk_bodin", "X", 1131510900, "tunk_bodin", "X", 1131510925, "tunk_bodin", "X", 1131510949, "tunk_bodin", "X", 1131511076, "tunk_bodin", "X", 1131512209, "tunk_bodin", "X", 1133121912, "tunk_bodin", "X", 1133122016, "tunk_bodin", "X", 1133122199, "tunk_bodin", "X", 1133123210, "tunk_bodin", "X", 1133123250, "tunk_bodin", "X", 1133123286, "tunk_bodin", "X", 1133123331, "tunk_bodin", "X", 1133123399, "tunk_bodin", "X", 1133123480, "tunk_bodin", "X", 1133123642, "tunk_bodin", "X", 1133123688, "tunk_bodin", "X", 1133123736, "tunk_bodin", "X", 1133123833, "tunk_bodin", "X", 1133123900, "tunk_bodin", "X", 1133123991, "tunk_bodin", "X", 1133124275, "tunk_bodin", "X", 1133124371, "tunk_bodin", "X", 1133124436, "tunk_bodin", "X", 1133124492, "tunk_bodin", "X", 1133124553, "tunk_bodin", "X", 1133124800, "tunk_bodin", "X", 1133124988, "tunk_bodin", "X", 1133125305, "tunk_bodin", "X", 1133125921, "tunk_bodin", "X", 1133131513, "tunk_bodin", "X", 1140040959, "tunk_bodin", "X", 1141350123, "tunk_bodin", "X", 1148695614, "tonyd", "P", 1148695646, "tonyd", "P", 1148695727, "tonyd", "P", 1148695767, "tonyd", "P", 1148695892, "tonyd", "P", 1167555249, "tonyd", "R", 1240196573, "tonyd", "P", 1240197561, "tonyd", "E", 1240197864, "tonyd", "P", 1240197897, "tonyd", "P", 1240197916, "tonyd", "P", 1240198017, "tonyd", "P", 1240198480, "tonyd", "P", 1240198793, "tonyd", "P", 1240198935, "tonyd", "P", 1240199145, "tonyd", "P", 1240199160, "tonyd", "P", 1240199188, "tonyd", "P", 1240199459, "tonyd", "P", 1240199499, "tonyd", "P", 1240199537, "tonyd", "P", 1240199560, "tonyd", "P", 1240199708, "tonyd", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
      <Core:Property property="volition">0</Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
