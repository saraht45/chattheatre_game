<object clone="/base/obj/thing" owner="rastalabor">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Allegory:Props:Crafting:UrCraftingContainer)"/>
    <Base:Bulk immobile="false" mass="1" density="1"/>
    <Base:Container flexible="true" transparent-container="false" public-container="false" tight="false" capacity="1" maxweight="1" verb2="contain" verb3="contains"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="none" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst></Base:DrinkMessageFirst>
      <Base:DrinkMessageThird></Base:DrinkMessageThird>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst></Base:DieMessageFirst>
      <Base:DieMessageThird></Base:DieMessageThird>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="boot"/>
            <Base:SName sname="footwear"/>
            <Base:SName sname="garment"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="boots"/>
            <Base:PName pname="footwears"/>
            <Base:PName pname="garments"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="black"/>
          <Base:Adjective adjective="buckle"/>
          <Base:Adjective adjective="knee-high"/>
          <Base:Adjective adjective="polished"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             pair of polished black leather buckle boots
          </Base:Description>
          <Base:Description type="examine">
             A pair of polished knee high boots with a series of silver buckles strapped to the sides to keep them snug. Beeswax has been worked into the black leather and buffed to make them more water resistant and giving them a nice polish. The inner lining is a soft, supple leather for comfort.<propcheck skill="mental:observation" min="24"> One of the boots has been very artfully designed with a hidden knife sheath that you barely pick out.</propcheck><propcheck-not skill="mental:observation" min="24"><propcheck skill="mental:observation" min="20"> There is something different about one of the boots, its fit isn't as good.</propcheck><propcheck-not skill="mental:observation" min="20"><propcheck skill="mental:observation" min="12"> The boots are a custom job, by a master cobbler.</propcheck></propcheck-not></propcheck-not><sbr/><quality-full/>
          </Base:Description>
          <Base:Description type="look">
             A pair of polished black leather boots, with silver buckles along the sides.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="buckles" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="buckle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="buckles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="silver"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             boot's silver buckle
          </Base:Description>
          <Base:Description type="look">
             One of the silver buckles set along the outside of the boot to keep it snug.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="strap" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="strap"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="straps"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="leather"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             boot's leather strap
          </Base:Description>
          <Base:Description type="look">
             A strap which is secured by a buckle.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="unsheathed" prime="false" def="true" abstract="false" hidden="true" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames/>
          <Base:PNames/>
        </Base:Names>
        <Base:Adjectives/>
        <Base:Descriptions>
          <Base:Description type="brief">sheath</Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="1"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:Covered value="toes-left"/>
      <Base:Covered value="ankle-left"/>
      <Base:Covered value="foot-left"/>
      <Base:Covered value="calf-left"/>
      <Base:Covered value="toes-right"/>
      <Base:Covered value="ankle-right"/>
      <Base:Covered value="foot-right"/>
      <Base:Covered value="calf-right"/>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties/>
    <Core:Properties>
      <Core:Property property="clothing:covered-by"/>
      <Core:Property property="export:trait:objecttype">
         "footwear"
      </Core:Property>
      <Core:Property property="export:trait:sheathaccepts">
         (\{ "knife", "dagger" \})
      </Core:Property>
      <Core:Property property="merry:act:start">
         X[M] string *names;         
int i;         
         
/* set names for the default to be the scabbard */         
/* hide the scabbard detail */         
\$this."details:scabbard:hidden:local" = 1;         
/* remove scabbard names from the detail */         
names = \$this."details:scabbard:snames";         
for(i=0;i\<sizeof(names);i++)         
  Set(\$this, "details:default:sname:"+names[i]+":local", 1);         
names = \$this."details:scabbard:pnames";         
for(i=0;i\<sizeof(names);i++)         
  Set(\$this, "details:default:pname:"+names[i]+":local", 1);         
names = \$this."details:scabbard:adjectives";         
for(i=0;i\<sizeof(names);i++)         
  Set(\$this, "details:default:adjective:"+names[i]+":local", 1);
      </Core:Property>
      <Core:Property property="merry:act:stop">
         X[M] /* if there is a sheathed weapon in this, slay it */         
if(this.sheathed \&\& !this.sheathed.noslay)         
  Slay(this.sheathed);         
return TRUE;
      </Core:Property>
      <Core:Property property="merry:react-post:sheathe-iob">
         X[M] string *names;          
int i;          
          
/* check they aren't still wielding the weapon */          
if(NRefOb(\$dob[0])."base:wielded-by") \{          
  \$delay(0.5, TRUE, "7dda");          
  if(NRefOb(\$dob[0])."base:wielded-by") \{          
    EmitTo(\$actor, "You can't sheathe "+Describe(\$dob[0], nil, \$actor)+" while you are wielding it.");          
    return FALSE;          
  \}          
\}          
                 
        
          
/* illuminate the sheathed weapon */          
NRefOb(\$dob[0])."details:default:luminosity:local" = 100.0;          
          
/* move the actual weapon to the void */          
\$this.sheathed = NRefOb(\$dob[0]);          
NRefOb(\$dob[0])."base:environment" = nil;          
          
return TRUE;
      </Core:Property>
      <Core:Property property="merry:react-pre:sheathe-iob">
         X[M] if(\$this.sheathed) \{         
  EmitTo(\$actor, Describe(\$this, nil, \$actor)+" already contains "+Describe(\$this.sheathed)+".");         
  return FALSE;         
\}         
         
if(sizeof(\$dob) \> 1) \{         
  EmitTo(\$actor, "You can only sheathe one thing in "+Describe(\$this, nil, \$actor)+".");         
  return FALSE;         
\}         
         
/* unwield the sword if it's wielded */         
if(NRefOb(\$dob[0])."base:wielded-by") \{         
  Act(\$actor, "unwield", \$article: NRefOb(\$dob[0]));         
\}         
         
return TRUE;
      </Core:Property>
      <Core:Property property="merry:react-pre:unsheathe-dob">
         X[M] string *names;          
int i;          
          
if(!\$this.sheathed) return TRUE;          
          
/* give the weapon to the player */          
\$weapon = \$this.sheathed;          
\$weapon."base:environment" = \$actor;          
\$this.sheathed = nil;          
          
          
/* de-illuminate the sheathed weapon */          
NRefOb(\$dob[0])."details:default:luminosity:local" = 0.0;          
          
          
/* display the player unsheathing the weapon */          
\$(adverb:position) = "pv";          
Social( \$actor, "unsheathe", \$adverb, \$evoke, nil, \$weapon, "from", \$this);          
          
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:sheathe-iob">
         X[M] if(\$this."trait:sheathaccepts") \{         
  \$accepts = Arr(\$this."trait:sheathaccepts");         
  /* easier way to write this code         
  for(\$i=0;\$i\<sizeof(\$accepts);\$i++) \{         
    if(NRefOb(\$dob[0])."trait:sheathtype" == \$accepts[\$i])         
      return TRUE;         
  \}*/         
  if(member(NRefOb(\$dob[0])."trait:sheathtype", \$accepts))         
    return TRUE;         
  \$message = "";         
  if(sizeof(\$accepts) == 1) \{         
    \$message = " a "+\$accepts[0];         
  \} else if(sizeof(\$accepts) == 2) \{         
    \$message = " a "+\$accepts[0]+" or a "+\$accepts[1];         
  \} else \{         
    for(\$i=0;\$i\<sizeof(\$accepts);\$i++) \{         
      if(\$i == sizeof(\$accepts)-1) \{         
        \$message += " or a ";         
      \} else \{         
        \$message += " a ";         
      \}         
      \$message += \$accepts[\$i];         
      if(\$i \< sizeof(\$accepts)-2)         
        \$message += ",";         
    \}         
  \}         
\} else \{         
  return TRUE;         
\}         
EmitTo(\$actor, "You can only sheathe"+\$message+" in "+Describe(\$this, nil, \$actor)+".");         
return FALSE;
      </Core:Property>
      <Core:Property property="misc:lastdropped">
         "1702919819 Kilana[skiwaymtn]"
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1306597651, "rastalabor", "X", 1306597848, "rastalabor", "E", 1306597887, "rastalabor", "X", 1306597942, "rastalabor", "X", 1306598009, "rastalabor", "S", 1306599158, "rastalabor", "X", 1306599207, "rastalabor", "X", 1306600031, "rastalabor", "X", 1306600172, "rastalabor", "X", 1306600288, "rastalabor", "X", 1306601148, "rastalabor", "E", 1306601561, "rastalabor", "E", 1306601564, "rastalabor", "E", 1306601592, "rastalabor", "R", 1306615402, "slurpeeslurp", "E", 1309419626, "morwenlorelie", "R" \})
      </Core:Property>
      <Core:Property property="sheathed">
         \<[Allegory:Props:Weapons:Bladed:Knives:Light:Stiletto]#264602\>
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
      <Core:Property property="trait:quality">6</Core:Property>
      <Core:Property property="trait:smells:lastchecked">
         1701666846
      </Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
