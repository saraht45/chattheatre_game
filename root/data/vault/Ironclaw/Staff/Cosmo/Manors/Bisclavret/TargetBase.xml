<object clone="/base/obj/thing" owner="lidiab">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Allegory:Props:Crafting:UrCraftingContainer)"/>
    <Base:Bulk immobile="false" mass="0.01" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="2" maxweight="2" verb2="are holding" verb3="is holding"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="hanging" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst></Base:DrinkMessageFirst>
      <Base:DrinkMessageThird></Base:DrinkMessageThird>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst></Base:DieMessageFirst>
      <Base:DieMessageThird></Base:DieMessageThird>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="target"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="targets"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="archery"/>
          <Base:Adjective adjective="practice"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the <acmd tag="command" cmd="shoot $(this.distance)-foot target">$(this.distance)-foot</acmd> practice target
          </Base:Description>
          <Base:Description type="examine">
             A large practice <acmd tag="command" cmd="shoot $(this.distance)-foot target">target</acmd> for guns and crossbows. It is a canvas circle four feet high by four feet wide, and is stuffed with hay six inches thick. Two circles painted in black and blue surround a red bullseye in the very center of the target, with several possible point sections. The target is supported on the wall by several cross pieces of wood. This particular target has been placed $(this.distance) feet from the red "shooting" line.
          </Base:Description>
          <Base:Description type="look">
             A large practice <acmd tag="command" cmd="shoot $(this.distance)-foot target">target</acmd> for guns and crossbows which has been placed $(this.distance) feet from the red line. A giant stuffed circle, it has two circles painted in blue and black which surround the red bullseye in the very center.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="background" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="background"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="backgrounds"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="painted"/>
          <Base:Adjective adjective="practice"/>
          <Base:Adjective adjective="target"/>
          <Base:Adjective adjective="white"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the white background of a practice target
          </Base:Description>
          <Base:Description type="look">
             The white background of a practice target. It enables the bright rings to be seen easier from a distance.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="bullseye" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="bullseye"/>
            <Base:SName sname="eye"/>
            <Base:SName sname="bulls-eye"/>
            <Base:SName sname="center"/>
            <Base:SName sname="middle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="bulls-eyes"/>
            <Base:PName pname="bullseyes"/>
            <Base:PName pname="centers"/>
            <Base:PName pname="eyes"/>
            <Base:PName pname="middles"/>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="bull"/>
          <Base:Adjective adjective="bulls"/>
          <Base:Adjective adjective="bulls-eye"/>
          <Base:Adjective adjective="bullseye"/>
          <Base:Adjective adjective="inner"/>
          <Base:Adjective adjective="innermost"/>
          <Base:Adjective adjective="middle"/>
          <Base:Adjective adjective="practice"/>
          <Base:Adjective adjective="red"/>
          <Base:Adjective adjective="target"/>
          <Base:Adjective adjective="third"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the red bullseye
          </Base:Description>
          <Base:Description type="look">
             The red bullseye at the very center of the target. It is encircled closest by a painted blue ring, with a black ring creating the outer edge of the point range.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="outerring" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="ring"/>
            <Base:SName sname="circle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="black"/>
          <Base:Adjective adjective="first"/>
          <Base:Adjective adjective="outer"/>
          <Base:Adjective adjective="outermost"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the outermost ring of a practice target
          </Base:Description>
          <Base:Description type="look">
             The outermost ring of the practice target. Painted black, this ring is farthest away from the bullseye.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="secondring" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="true" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="ring"/>
            <Base:SName sname="circle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="rings"/>
            <Base:PName pname="circles"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="blue"/>
          <Base:Adjective adjective="center"/>
          <Base:Adjective adjective="central"/>
          <Base:Adjective adjective="middle"/>
          <Base:Adjective adjective="second"/>
          <Base:Adjective adjective="secondary"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the middle ring of a practice target
          </Base:Description>
          <Base:Description type="look">
             The middle ring of a practice target. Painted blue, this ring encircles the red bullseye at the targets very center.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="10"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties>
      <Base:InitialProperty property="archery:target">
         "true"
      </Base:InitialProperty>
    </Base:InitialProperties>
    <Core:Properties>
      <Core:Property property="archery:target">
         "true"
      </Core:Property>
      <Core:Property property="export:distance">25</Core:Property>
      <Core:Property property="merry:lib:shoot_at_target">
         X[M] /* Roll the actors archery skill (or gun skill!) */  
if(\$ranged == "firearm") \{  
    \$roll = ironclaw::roll(\$roller: \$actor, \$dicearray: nil, \$skills: (\{ "combat:gun", "combat:precision" \}), \$bonus: "trait:perception");  
    \$ammo = "bullet";  
    \$weapon = "gun";  
\} else \{  
    \$roll = ironclaw::roll(\$roller: \$actor, \$dicearray: nil, \$skills: (\{ "combat:archery", "combat:precision" \}), \$bonus: "trait:perception");  
    \$ammo = "arrow";  
    \$weapon = "bow";  
\}  
  
if(this.distance \>= 100) \{  
 \$roll += 0;  
\} else if(this.distance \>= 75) \{  
 \$roll += 1;  
\} else if(this.distance \>= 50) \{  
 \$roll += 2;  
\} else if(this.distance \>= 35) \{  
 \$roll += 3;  
\} else if(this.distance \>= 25) \{  
 \$roll += 4;  
\}  
if(\$roll \> 24) \$roll = 24;  
  
/* display a message on how well the shot went */  
\$message = "";  

\$whereisarrow = \$this."base:environment";
  
switch(\$roll) \{  
case 24:  
  \$message = "A " +oneof("twang", "thrum")+ " echoes through the room as " + Describe(\$actor) + " aims true to hit the " +oneof("blue ring", "black ring", "bullseye")+ " of " +Describe(\$this)+ ".";  
  \$whereisarrow = \$this;
  break;  
case 23:  
case 22:  
  \$message = "A " +oneof("twang", "thrum")+ " echoes through the room as " + Describe(\$actor) + " aims true to hit the " +oneof("blue ring", "black ring", "bullseye")+ " of " +Describe(\$this)+ ".";  
  \$whereisarrow = \$this;
  break;  
case 21:  
case 20:  
case 19:  
case 18:  
  \$message = Describe(\$actor)+ " takes carefully aim before releasing " + \$actor."base:possessive" + " " + \$ammo + " into the air and straight for " +Describe(\$this)+ ". It flies swiftly with a " +oneof("piercing", "high-pitched", "whining") + " streak of sound before it strikes " +oneof("the true center of the bullseye", "the inner edge of the blue ring", "the outer edge of the black ring", "the floorboards about one foot short of the mark", "the white outer edges of the target which have no value at all")+ ".";  
  \$whereisarrow = \$this;
  break;  
case 17:  
case 16:  
case 15:  
case 14:  
case 13:  
case 12:  
  \$message = Describe(\$actor)+ " frees " + common::aan(\$what: \$ammo) + " from " + \$actor."base:possessive" + " " + \$weapon + " and watches hopefully as it veers directly for " +Describe(\$this) + ", landing well within the " +oneof("bullseye", "blue circle", "black circle")+ ".";  
  \$whereisarrow = \$this;
  break;  
case 11:  
case 10:  
case 9:  
case 8:  
  \$message = (\{ Describe(\$actor) + "'s " + \$ammo + " shoots from the " + \$weapon + " and flies widely, missing the target by several feet." \});  
  break;  
case 7:  
case 6:  
case 5:  
case 4:  
  \$message = (\{ "A " + oneof("thud", "thunk", "snap", "short whistle")+ " " + oneof("resounds throughout", "echoes through", "fills", "carries in") + " " + Describe(\$this."base:environment") + " when the " + \$ammo + " of " +Describe(\$actor) + " falls short of " +Describe(\$this)+ " and hits the floorboards." \});  
  break;  
default:  
  \$message = (\{ Describe(\$actor) + " fails miserably. There is little point in even explaining the action of " + \$actor."base:possessive" + " " + \$ammo + " since it would only be cause for more embarrassment and ridicule." \});  
break;  
\}  
  
/* remove the array from output */  
\$message = Arr(\$message);  
\$message = \$message[random(sizeof(\$message))];  
  
EmitIn(\$this."base:environment", \$message);  
  
if(\$ranged == "firearm") \{  
    \$gun = \$actor."combat:weapon:mainhand";  
    /* \$gun."firearm:loaded"--; */ 
\} else \{  
    \$bow = \$actor."combat:weapon:mainhand";  
    \$arrow = \$bow."weapon:loaded";  
    /* Slay(\$arrow); */
    \$arrow."base:environment" = \$whereisarrow;
    \$bow."weapon:loaded" = nil;  
    \$bow."details:arrow:sname:arrow" = nil;  
    /* \$bow."details:projectile:sname:bolt" = nil; */ 
    \$bow."details:projectile" = nil; 
\}  
  
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:shoot-dob">
         X[M] /* check the actor has a bow (or a gun!) */  
  
if(!\$actor."combat:weapon:mainhand") \{  
    EmitTo(\$actor, "You need to be wielding a ranged weapon before you can shoot the targets.");  
    return FALSE;  
\}  
  
\$weapon = \$actor."combat:weapon:mainhand";  
  
if(\$weapon."trait:objecttype" == "firearm") \{  
    \$gun = \$actor."combat:weapon:mainhand";  
  
    if(\$gun."firearm:jammed") \{  
        EmitTo(\$actor, Describe(\$gun)+" is jammed, and must be cleaned before it will fire.");  
        return FALSE;  
    \}  
  
    if(!\$gun."weapon:loaded") \{  
        EmitTo(\$actor, Describe(\$gun) + " needs to be loaded first.");  
        return FALSE;  
    \}  
  
    \$ranged = "firearm";  
\} else if(\$weapon."trait:objecttype" == "bow" \|\| \$weapon."trait:objecttype" == "crossbow") \{  
    \$bow = \$actor."combat:weapon:mainhand";  
  
    if(!\$bow."weapon:loaded") \{  
        EmitTo(\$actor, Describe(\$bow) + " needs to be loaded first.");  
        return FALSE;  
    \}  
  
    \$ranged = "bow";  
\} else \{  
    EmitTo(\$actor, "You need to be wielding a ranged weapon before you can shoot the targets.");  
    return FALSE;  
\}  
  
::shoot_at_target(\$ranged: \$ranged);  
  
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:shoot-iob">
         X[M] /* check the actor has a bow (or a gun!) */  
  
if(!\$actor."combat:weapon:mainhand") \{  
    EmitTo(\$actor, "You need to be wielding a ranged weapon before you can shoot the targets.");  
    return FALSE;  
\}  
  
\$weapon = \$actor."combat:weapon:mainhand";  
  
if(\$weapon."trait:objecttype" == "firearm") \{  
    \$gun = \$actor."combat:weapon:mainhand";  
  
    if(\$gun."firearm:jammed") \{  
        EmitTo(\$actor, Describe(\$gun)+" is jammed, and must be cleaned before it will fire.");  
        return FALSE;  
    \}  
  
    if(!\$gun."firearm:loaded") \{  
        EmitTo(\$actor, Describe(\$gun) + " needs to be loaded first.");  
        return FALSE;  
    \}  
  
    \$ranged = "firearm";  
\} else if(\$weapon."trait:objecttype" == "bow" \|\| \$weapon."trait:objecttype" == "crossbow") \{  
    \$bow = \$actor."combat:weapon:mainhand";  
  
    if(!\$bow."weapon:ammo") \{  
        EmitTo(\$actor, Describe(\$bow) + " needs to be loaded first.");  
        return FALSE;  
    \}  
  
    \$ranged = "bow";  
\} else \{  
    EmitTo(\$actor, "You need to be wielding a ranged weapon before you can shoot the targets.");  
    return FALSE;  
\}  
  
::shoot_at_target(\$ranged: \$ranged);  
  
return FALSE;
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1131509153, "tunk_bodin", "X", 1131509252, "tunk_bodin", "X", 1131509446, "tunk_bodin", "X", 1131510131, "tunk_bodin", "X", 1131510303, "tunk_bodin", "X", 1131510871, "tunk_bodin", "X", 1131510900, "tunk_bodin", "X", 1131510925, "tunk_bodin", "X", 1131510949, "tunk_bodin", "X", 1131511076, "tunk_bodin", "X", 1131512209, "tunk_bodin", "X", 1133121912, "tunk_bodin", "X", 1133122016, "tunk_bodin", "X", 1133122199, "tunk_bodin", "X", 1133123210, "tunk_bodin", "X", 1133123250, "tunk_bodin", "X", 1133123286, "tunk_bodin", "X", 1133123331, "tunk_bodin", "X", 1133123399, "tunk_bodin", "X", 1133123480, "tunk_bodin", "X", 1133123642, "tunk_bodin", "X", 1133123688, "tunk_bodin", "X", 1133123736, "tunk_bodin", "X", 1133123833, "tunk_bodin", "X", 1133123900, "tunk_bodin", "X", 1133123991, "tunk_bodin", "X", 1133124275, "tunk_bodin", "X", 1133124371, "tunk_bodin", "X", 1133124436, "tunk_bodin", "X", 1133124492, "tunk_bodin", "X", 1133124553, "tunk_bodin", "X", 1133124800, "tunk_bodin", "X", 1133124988, "tunk_bodin", "X", 1133125305, "tunk_bodin", "X", 1133125921, "tunk_bodin", "X", 1133131513, "tunk_bodin", "X", 1140040959, "tunk_bodin", "X", 1141350123, "tunk_bodin", "X", 1148695614, "tonyd", "P", 1148695646, "tonyd", "P", 1148695727, "tonyd", "P", 1148695767, "tonyd", "P", 1148695892, "tonyd", "P", 1167555249, "tonyd", "R", 1240196573, "tonyd", "P", 1240197561, "tonyd", "E", 1240197864, "tonyd", "P", 1240197897, "tonyd", "P", 1240197916, "tonyd", "P", 1240198017, "tonyd", "P", 1240198480, "tonyd", "P", 1240198793, "tonyd", "P", 1240198935, "tonyd", "P", 1240199145, "tonyd", "P", 1240199160, "tonyd", "P", 1240199188, "tonyd", "P", 1240199459, "tonyd", "P", 1240199499, "tonyd", "P", 1240199537, "tonyd", "P", 1240199560, "tonyd", "P", 1240199708, "tonyd", "E", 1344849218, "lidiab", "R", 1346215834, "lidiab", "K", 1346301351, "jominey", "E", 1346301387, "jominey", "E", 1346301805, "jominey", "E", 1346302019, "jominey", "E", 1346302047, "jominey", "E", 1346302086, "jominey", "E", 1346302262, "jominey", "E", 1346302321, "jominey", "E", 1346369397, "lidiab", "K", 1346371082, "lidiab", "E", 1392112851, "pp74", "X", 1415906991, "jominey", "E", 1415907026, "jominey", "E", 1415907326, "jominey", "E", 1415907422, "jominey", "E", 1415975507, "jominey", "E", 1415975608, "jominey", "E", 1418008248, "rorschakovacs", "E", 1418009749, "rorschakovacs", "E", 1418009995, "rorschakovacs", "E", 1418010362, "rorschakovacs", "E", 1572912239, "sendnoodlez", "X", 1572912280, "sendnoodlez", "E", 1572912319, "sendnoodlez", "E", 1572989793, "sendnoodlez", "E", 1593873507, "jominey", "E", 1593873584, "jominey", "E", 1593873752, "jominey", "E", 1593873767, "jominey", "E", 1593873838, "jominey", "E", 1593873848, "jominey", "E", 1593873859, "jominey", "E", 1593873873, "jominey", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
      <Core:Property property="volition">0</Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
