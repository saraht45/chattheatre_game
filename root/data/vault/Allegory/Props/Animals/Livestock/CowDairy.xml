<object clone="/base/obj/thing" owner="sendnoodlez">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Allegory:Props:Animals:Livestock:UrLivestock)"/>
    <Base:Bulk immobile="false" mass="1" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="1" maxweight="1"/>
    <Base:Misc gender="female" volition="false" weapon="false" default_stance="standing" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst></Base:DrinkMessageFirst>
      <Base:DrinkMessageThird></Base:DrinkMessageThird>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst></Base:DieMessageFirst>
      <Base:DieMessageThird></Base:DieMessageThird>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="cow"/>
            <Base:SName sname="cattle"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="cows"/>
            <Base:PName pname="cattle"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives/>
        <Base:Descriptions>
          <Base:Description type="brief">
             <a_or_an>$(this.trait:appearance:body) $(this.trait:appearance:coat) $(this.trait:breed) $(this.trait:animaltype)</a_or_an>
          </Base:Description>
          <Base:Description type="examine">
             <a_or_an>$(this.trait:appearance:body) $(this.trait:appearance:coat) $(this.trait:breed) $(this.trait:animaltype)</a_or_an>. $(this.trait:look)
          </Base:Description>
          <Base:Description type="look">
             <a_or_an>$(this.trait:appearance:body) $(this.trait:appearance:coat) $(this.trait:breed) $(this.trait:animaltype)</a_or_an>. $(this.trait:look)
          </Base:Description>
          <Base:Description type="pbrief">
             $(this.trait:appearance:body) $(this.trait:appearance:coat) $(this.trait:breed) $(this.trait:animaltype)
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="1"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties/>
    <Core:Properties>
      <Core:Property property="export:command:bounce">
         (\{ "THIS rears and bucks in a back and forth bouncing motion of unrestrained joy.", "THIS gives a toss of POSSESSIVE head before excitedly leaping and bounding in a small circle." \})
      </Core:Property>
      <Core:Property property="export:command:chew">
         (\{ "THIS lowers POSSESSIVE eyelids as NOMINATIVE contentedly chews", "THIS chews with a repetitive motion as a blissful expression covers POSSESSIVE face." \})
      </Core:Property>
      <Core:Property property="export:command:daydream">
         (\{ "THIS gazes into the distance, POSSESSIVE expression almost wistful.", "THIS droops POSSESSIVE eyelids, staring at what appears to be nothing at all." \})
      </Core:Property>
      <Core:Property property="export:command:graze">
         (\{ "THIS meanders here and there as NOMINATIVE grazes aimlessly through the area.", "THIS wanders aimlessly to and fro while grazing, POSSESSIVE tail swaying with the motion." \})
      </Core:Property>
      <Core:Property property="export:command:happy-cow">
         (\{ "THIS sways POSSESSIVE head side to side with a low, crooning sound of pleasure.", "THIS perks POSSESSIVE ears forward, crooning low in POSSESSIVE throat with a happy expression on POSSESSIVE face." \})
      </Core:Property>
      <Core:Property property="export:command:head-shake">
         (\{ "THIS gives a toss of POSSESSIVE head, POSSESSIVE ears flapping as NOMINATIVE does so.", "THIS lifts POSSESSIVE head high before shaking it with an animated motion." \})
      </Core:Property>
      <Core:Property property="export:command:mad-cow">
         (\{ "THIS lets loose a loud, agitated cry of displeasure as NOMINATIVE throws POSSESSIVE head back and stomps POSSESSIVE hooves.", "THIS grunts and stomps POSSESSIVE hooves while pinning POSSESSIVE ears back with an agitated motion." \})
      </Core:Property>
      <Core:Property property="export:command:moo">
         (\{ "THIS lets out a long, low moo as NOMINATIVE tilts POSSESSIVE head skyward.", "THIS makes a soft lowing sound as NOMINATIVE moos into the distance." \})
      </Core:Property>
      <Core:Property property="export:command:roll">
         (\{ "THIS slowly drops POSSESSIVE body to the ground before rolling back and forth amid a series of soft snorting sounds.", "THIS flops onto the ground with a clumsy motion, POSSESSIVE body writhing as NOMINATIVE rolls indulgently." \})
      </Core:Property>
      <Core:Property property="export:command:snort">
         (\{ "THIS makes a disgruntled snorting sound as NOMINATIVE shakes POSSESSIVE head a little.", "THIS gives POSSESSIVE head a shake, the motion punctuated by a quick, sharp snort." \})
      </Core:Property>
      <Core:Property property="export:command:stamp">
         (\{ "THIS bows POSSESSIVE head low before stomping on the ground with POSSESSIVE hoof.", "THIS gives a small snort of displeasure before stomping the ground with POSSESSIVE rear hoof." \})
      </Core:Property>
      <Core:Property property="export:command:wag">
         (\{ "THIS swishes POSSESSIVE tail to and fro, the end flicking with each movement.", "THIS sways POSSESSIVE tail back and forth with a lazy motion." \})
      </Core:Property>
      <Core:Property property="export:feeding:accepts">
         (\{ (\{ "trait:objecttype", "hay" \}) \})
      </Core:Property>
      <Core:Property property="export:feeding:restrictions">
         (\{ "farmland", 1 \})
      </Core:Property>
      <Core:Property property="export:harvest:frequency">
         1
      </Core:Property>
      <Core:Property property="export:isapet">1</Core:Property>
      <Core:Property property="export:nip:item:cost">
         50000
      </Core:Property>
      <Core:Property property="export:nip:trait:movement:frequency">
         0
      </Core:Property>
      <Core:Property property="export:trait:animaltype">
         "cow"
      </Core:Property>
      <Core:Property property="export:trait:commands:extra">
         (\{ "moo", "chew", "graze", "daydream", "snort", "wag", "head-shake", "stamp", "roll", "happy-cow", "mad-cow", "bounce" \})
      </Core:Property>
      <Core:Property property="export:trait:look">
         "This large mammal stands approximately five feet in height at the shoulder when fully grown. Its sturdy body is supported by four legs with cloven hooves. Its head, relatively small for the size of the animal, bears two large, dark eyes, a pair of tapered ears, and two curved horns. A prolific milk producer, the cow also has a sizable udder."
      </Core:Property>
      <Core:Property property="export:trait:objecttype">
         "cow"
      </Core:Property>
      <Core:Property property="export:trait:spawnedparts">
         ([ "body":"bodies", "coat":"coats", "ears":"ears", "eyes":"eyes", "head":"heads", "hooves":"hooves", "horns":"horns", "legs":"legs", "muzzle":"muzzles", "neck":"necks", "nose":"noses", "stomach":"stomachs", "tail":"tails", "teeth":"teeth", "udder":"udders" ])
      </Core:Property>
      <Core:Property property="export:trait:spawnedtraits">
         ([ "appearance:body":(\{ "large", "plump", "bulky", "fat", "round", "small", "stocky" \}), "appearance:coat":(\{ "black", "brown", "red", "light brown", "grey", "dun", "brindle", "red roan", "blue roan", "black and white", "brown and white" \}), "appearance:ears":(\{ "tapered" \}), "appearance:eyes":(\{ "large dark" \}), "appearance:hooves":(\{ "cloven" \}), "appearance:horns":(\{ "curved" \}), "appearance:udder":(\{ "pink" \}) ])
      </Core:Property>
      <Core:Property property="merry:lib:eat">
         X[M] \$food."trait:quantity" = Int(\$food."trait:quantity") - 10;
EmitTo(\$actor, TAG("You scoop a pile of hay onto the ground before " + Describe(\$this, nil, nil, STYLE_NONPOSS) + ".", "social:first"));
EmitIn(\$actor."base:environment", TAG(Describe(\$actor) + " scoops a pile of hay onto the ground before " + Describe(\$this, nil, nil, STYLE_NONPOSS) + ".", "social:third"), \$actor);
\$delay(2, FALSE, "af69");
EmitIn(\$actor."base:environment", TAG(capitalize(Describe(\$this)) + " lowers its head, consuming the hay with long, slow chews.", "social:third"));

return FALSE;
      </Core:Property>
      <Core:Property property="merry:lib:lay">
         X[M] EmitIn(\$actor."base:environment", Describe(\$this)+" sinks " + \$this."base:possessive" + " body slowly down onto the ground."); 

Social(this, "lie", "ever-so-slowly", nil, "beside", \$actor );

return TRUE;
      </Core:Property>
      <Core:Property property="merry:react:milk-dob">
         X[M] if(!::readyforharvest()) \{
    EmitTo(\$actor, Describe(\$this) + " needs more time to produce milk.");
    return FALSE;
\}

\$inventory = \$actor."base:inventory";
for(\$i = 0; !\$tool \&\& \$i \< sizeof(\$inventory); \$i++) \{
    if(\$inventory[\$i]."trait:objecttype" == "milk pail" \&\& !sizeof(\$inventory[\$i]."base:inventory")) \{
        \$tool = \$inventory[\$i];
    \}
\}

if(!\$tool) \{
    EmitTo(\$actor, "You need an empty bucket to hold the milk with.");
    return FALSE;
\}

\$quantity = allegory::roll(\$roller: \$actor, \$skills: (\{ "skill:general:animal-husbandry" \}), \$bonus: (\{ "trait:intelligence" \}));
\$quantity = Flt(\$quantity)/Flt(12);

\$brim = \$\{Allegory:Props:Drinks:NonAlcoholic:Liquids:CowMilk\}."base:actualdensity" * \$tool."base:intrinsiccapacity" * 1000.0;
\$brim -= 0.0001;
\$milk = Spawn(\$\{Allegory:Props:Drinks:NonAlcoholic:Liquids:CowMilk\});
\$milk."base:intrinsicmass" = \$brim * \$quantity;

EmitTo(\$actor, TAG("Placing " + Describe(\$tool, nil, nil, STYLE_NONPOSS) + " on the ground, you slowly work the teats of " + Describe(\$this, nil, nil, STYLE_NONPOSS) + " until there is no more milk to give.", "social:first"));
EmitIn(\$actor."base:environment", TAG("Placing " + Describe(\$tool, nil, nil, STYLE_NONPOSS) + " on the ground, " + Describe(\$actor) + " slowly works the teats of " + Describe(\$this, nil, nil, STYLE_NONPOSS) + " until there is no more milk to give.", "social:third"), \$actor);


if ((\$milk."base:environment" = \$tool) != 0) \{
    EmitTo(\$actor, "Oops! A bug occured where we failed to juggle stuff around. Please notify staff exactly what you did so we can fix that!");
    if (name(\$milk)[0] == '[') Slay(\$milk);
    return FALSE;
\}

shared_consumable::consumable_set(\$what: \$milk);

\$this.lastharvested = time();
\$this.lastharvestedby = \$actor;
\$this.tended = 0;

return FALSE;
      </Core:Property>
      <Core:Property property="petbody">1</Core:Property>
      <Core:Property property="revisions">
         (\{ 1596938663, "jominey", "E", 1598484476, "jominey", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
