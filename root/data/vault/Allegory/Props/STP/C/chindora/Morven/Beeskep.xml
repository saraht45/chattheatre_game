<object clone="/base/obj/thing" owner="SkotOS">
  <Base:Thing>
    <Ur:UrObject/>
    <Base:Bulk immobile="false" mass="1" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="0" maxweight="0"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="none" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst/>
      <Base:DrinkMessageThird/>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst/>
      <Base:DieMessageThird/>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="beeskep"/>
            <Base:SName sname="skep"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="beeskeps"/>
            <Base:PName pname="skeps"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="bee"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             basket beeskep
          </Base:Description>
          <Base:Description type="examine">
             A basket beeskep is made of ropes the thickness of a thumb woven of dried water reeds that are stitched in a concentric manner, tapering slightly towards the top. The skep body is approximately a foot and a half tall and is topped by a lid that is made in a similar manner, with a woven handle at the top. Within the skep is a series of horizontal rods, from which half a dozen frames of honeycomb hang. The lid can be easily removed in order to remove the frames singly so that the honey can be safely harvested. A small opening towards the bottom of the skep allows the bees to come and go freely throughout the day, bringing nectar to the colony. You hear the buzzing of bees from within as they go about their work. $[if(::readyforharvest()) return "The honeycombs appear to be full and ready for harvest.";] $[if(::readyfortending()) return "The basket beeskep could use a little upkeep right now";]
          </Base:Description>
          <Base:Description type="look">
             A basket beeskep is made of concentric rows of braided reed rope stitched together, with a lid that allows the honeycomb frames within to be withdrawn for harvesting honey and a small opening towards the bottom to allow the bees to come and go freely.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="bees" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="bee"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="bees"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="fuzzy"/>
          <Base:Adjective adjective="large"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the large, fuzzy bees swarming around a basket beeskep
          </Base:Description>
          <Base:Description type="look">
             A number of large, fuzzy bees come and go from the basket beeskep.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="emits" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames/>
          <Base:PNames/>
        </Base:Names>
        <Base:Adjectives/>
        <Base:Descriptions>
          <Base:Description type="emit">
             { A flurry of large, fuzzy bees exit a basket beeskep, weaving through the air in a slow-motion ballet of twists and turns. | With a slow and steady drone, a solitary bee bobs and weaves around the area in search of sustenance. | A moment of still fills the area and the soft, low buzz of bees can be heard from inside a basket beeskep. | The ambient hum of buzzing wings emanates from a basket beeskep as dozens of large, fuzzy bees laden with pollen come and go through the skep's small opening. | Legs speckled thick with yellow pollen, a large, fuzzy bee wobbles through the air in search of a basket beeskep after a successful hunt. | Nearly imperceptible to the nose, the subtle, sweet aroma of honey permeates the air around the basket beeskep. | A lone large, fuzzy bee zigzags through the air around your head, the sound of its rapidly fluttering wings vibrating in your ears, before it ventures out of sight. | One plump bee, noticeably larger in size than the others in accompaniment, emerges from a basket beeskep's small opening for but a moment before toddling back inside with her fellow drones in tow. | Something tiny catches your attention out of the corner of your eye, flitting past you in the direction of a basket beeskep. The volume of the monotonous droning coming from within increases in intensity as dozens of large, fuzzy bees pour out of its small opening to intercept the unwelcome intruder. | A trio of fat, fuzzy bees dances and dips through the air, meandering throughout the vicinity in a seemingly aimless path before disappearing once more into a basket beeskep. }
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="frame" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="frame"/>
            <Base:SName sname="honeycomb"/>
            <Base:SName sname="comb"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="frames"/>
            <Base:PName pname="combs"/>
            <Base:PName pname="honeycombs"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="honey"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             frame of honeycomb in a basket beeskep
          </Base:Description>
          <Base:Description type="look">
             One of six frames of honeycomb hanging inside of a basket beeskep.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="lid" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="lid"/>
            <Base:SName sname="handle"/>
            <Base:SName sname="cover"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="lids"/>
            <Base:PName pname="handles"/>
            <Base:PName pname="covers"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="woven"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the lid of a basket beeskep
          </Base:Description>
          <Base:Description type="look">
             The lid of this basket beeskep is set with a woven handle.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="opening" prime="false" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="opening"/>
            <Base:SName sname="hole"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="openings"/>
            <Base:PName pname="holes"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="small"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             small opening at the base of a basket beeeskep
          </Base:Description>
          <Base:Description type="look">
             The small opening at the base of a basket beeskep allows the bees to come and go freely.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="1"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties/>
    <Core:Properties>
      <Core:Property property="export:trait:help">
         "The beeskep will require tending every other day to produce honey (syntax: 'tend beeskep'). Honey can be harvested once every thirty days (syntax: 'harvest beeskep')."
      </Core:Property>
      <Core:Property property="merry:lib:readyforharvest">
         X[M] if(!\$this.lastharvested \&\& Int(\$this.tended) \>= 15) return TRUE;

if(!\$this.lastharvested) return FALSE;

if((time() - \$this.lastharvested)/(60*60*24) \< 30 \|\| \$this.tended \< 15) \{
    return FALSE;
\} 

return TRUE;
      </Core:Property>
      <Core:Property property="merry:lib:readyfortending">
         X[M] if(!\$this.lasttended) return TRUE;

if((time() - \$this.lasttended)/(60*60*24) \< 2) \{
    return FALSE;
\} 

return TRUE;
      </Core:Property>
      <Core:Property property="merry:react-pre:tap-dob">
         X[M] if(\$this.emitting) \{ 
    \$this.emitting = nil; 
    return TRUE; 
\} 
 
\$this.emitting = TRUE; 
 
\$delay(3, FALSE, "3029"); 
 
 
for(\$i = 0; \$i \< 10; \$i++) \{ 
    if(\$this."base:environment"."udat:possessed" == TRUE) \{ 
        \$loc = \$actor."base:environment"; 
    \} else \{ 
        \$loc = \$this."base:environment"; 
    \} 
 
    EmitIn(\$loc, TAG(UnSAM(\$this."details:emits:description:emit"), "social:third")); 
 
    \$delay(180, FALSE, "47fc"); 
\} 
 
\$this.emitting = FALSE; 
 
return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:harvest-dob">
         X[M] if(!::readyforharvest()) \{
    EmitTo(\$actor, "There is not enough honey to collect at the moment.");
    return FALSE;
\}

\$this.lastharvested = time();
\$this.lastharvestedby = \$actor;
\$this.tended = 0;

EmitTo(\$actor, TAG("One by one, you remove the honeycomb frames from " + Describe(\$this) + ", carefully collecting the honey in a clay pot.", "social:first"));
EmitIn(\$actor."base:environment", TAG("One by one, " + Describe(\$actor) + " removes the honeycomb frames from " + Describe(\$this) + ", carefully collecting the honey in a clay pot.", "social:third"), \$actor);

\$honey = Spawn(\$\{Allegory:Props:Food:Cooking:Spreadables:Honey:HoneyPot\});
\$honey."base:environment" = \$actor;

return FALSE;
      </Core:Property>
      <Core:Property property="merry:react:tend-dob">
         X[M] if(!::readyfortending()) \{
    EmitTo(\$actor, Describe(\$this) + " does not require any upkeep right now.");
    return FALSE;
\}

\$this.lasttended = time();
\$this.lasttendedby = \$actor;
\$this.tended = Int(\$this.tended) + 1;

EmitTo(\$actor, TAG("You remove each honeycomb frame, checking for damage and replacing the beeswax as needed.", "social:first"));
EmitIn(\$actor."base:environment", TAG(Describe(\$actor) + " removes each honeycomb frame, checking for damage and replacing the beeswax as needed.", "social:third"), \$actor);

return FALSE;
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1589043239, "jominey", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
