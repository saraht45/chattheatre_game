<object clone="/base/obj/thing" owner="ezralee">
  <Base:Thing>
    <Ur:UrObject urobject="OBJ(Ironclaw:World:Manors:Avoirdupois:Props:Furniture:Yard:Fountain)"/>
    <Base:Bulk immobile="false" mass="1" density="1"/>
    <Base:Container flexible="false" transparent-container="false" public-container="false" tight="false" capacity="1" maxweight="1"/>
    <Base:Misc gender="neuter" volition="false" weapon="false" default_stance="none" combinable="false" discrete="false" by_weight="false" tight="false" scriptrunner="false" integration="auto-trait:integration:86272">
      <Base:Edible value="false"/>
      <Base:Potable value="false"/>
      <Base:DrinkMessageFirst/>
      <Base:DrinkMessageThird/>
      <Base:Transparency value="false"/>
      <Base:Unsafe value="false"/>
      <Base:Safe value="false"/>
      <Base:ClothesExpected value="false"/>
      <Base:DieMessageFirst/>
      <Base:DieMessageThird/>
    </Base:Misc>
    <Base:Details>
      <Base:Detail id="default" prime="true" def="false" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="fountain"/>
            <Base:SName sname="fount"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="fountains"/>
            <Base:PName pname="founts"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="marble"/>
          <Base:Adjective adjective="massive"/>
          <Base:Adjective adjective="water"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             massive marble fountain
          </Base:Description>
          <Base:Description type="examine">
             The fountain is over ten feet wide with a two-foot-tall basin surrounded by a circular bench.  Rising up in a spiral from the fountain is a trio of bowl shapes that cascade water into the base with a perpetual splashing sound.
          </Base:Description>
          <Base:Description type="look">
             The fountain is over ten feet wide with a two-foot-tall basin surrounded by a circular bench.  Rising up in a spiral from the fountain is a trio of bowl shapes that cascade water into the base with a perpetual splashing sound.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="basin" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="wall"/>
            <Base:SName sname="basin"/>
            <Base:SName sname="side"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="walls"/>
            <Base:PName pname="basins"/>
            <Base:PName pname="sides"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="bluestone"/>
          <Base:Adjective adjective="fount"/>
          <Base:Adjective adjective="fountain"/>
          <Base:Adjective adjective="tall"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the basin of the fountain
          </Base:Description>
          <Base:Description type="examine">
             The basin of the fountain is covered in lush foliage in bas relief.  Within the basin is a pool of sparkling water that cascades from the trio of tiered bowl shapes with a perpetual splashing sound.
          </Base:Description>
          <Base:Description type="look">
             The basin of the fountain is covered in lush foliage in bas relief.  Within the basin is a pool of sparkling water that cascades from the trio of tiered bowl shapes with a perpetual splashing sound.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="bench" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="bench"/>
            <Base:SName sname="seat"/>
            <Base:SName sname="side"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="benches"/>
            <Base:PName pname="seats"/>
            <Base:PName pname="sides"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="circular"/>
          <Base:Adjective adjective="fountain"/>
          <Base:Adjective adjective="marble"/>
          <Base:Adjective adjective="tall"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the bench surrounding the fountain
          </Base:Description>
          <Base:Description type="examine">
             The bench completely encircles the basin of the fountain and is crafted from a polished cream white marble.
          </Base:Description>
          <Base:Description type="look">
             The bench completely encircles the basin of the fountain and is crafted from a polished cream white marble.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="bowls" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="bowl"/>
            <Base:SName sname="tier"/>
            <Base:SName sname="trio"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="bowls"/>
            <Base:PName pname="tiers"/>
            <Base:PName pname="trios"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="fountain"/>
          <Base:Adjective adjective="tiered"/>
          <Base:Adjective adjective="trio"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the tiered bowls of the fountain
          </Base:Description>
          <Base:Description type="examine">
             A trio of tiered bowls rises up in a spiral formation above the fountain, water cascading down the tiers with a perpetual sound of splashing water.
          </Base:Description>
          <Base:Description type="look">
             A trio of tiered bowls rises up in a spiral formation above the fountain, water cascading down the tiers with a perpetual sound of splashing water.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="statue" prime="false" def="false" abstract="false" hidden="true" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="false" against="false" under="false" on="false" inside="false" near="false" over="false" behind="false" before="false" beside="false"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="statue"/>
          </Base:SNames>
          <Base:PNames/>
        </Base:Names>
        <Base:Adjectives/>
        <Base:Descriptions/>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
      <Base:Detail id="water" prime="false" def="true" abstract="false" hidden="false" luminosity="0" targetable_in_dark="false" plural="false">
        <Base:Preposition close="true" against="true" under="true" on="true" inside="true" near="true" over="true" behind="true" before="true" beside="true"/>
        <Base:Names>
          <Base:SNames>
            <Base:SName sname="water"/>
            <Base:SName sname="pool"/>
          </Base:SNames>
          <Base:PNames>
            <Base:PName pname="waters"/>
            <Base:PName pname="pools"/>
          </Base:PNames>
        </Base:Names>
        <Base:Adjectives>
          <Base:Adjective adjective="round"/>
          <Base:Adjective adjective="salt"/>
          <Base:Adjective adjective="sparkling"/>
          <Base:Adjective adjective="tall"/>
        </Base:Adjectives>
        <Base:Descriptions>
          <Base:Description type="brief">
             the sparkling water of the fountain
          </Base:Description>
          <Base:Description type="examine">
             The sparkling water within the fountain ripples gently as water pours into it from the trio of tiered bowls that rise up from the water itself.
          </Base:Description>
          <Base:Description type="look">
             The sparkling water within the fountain ripples gently as water pours into it from the tiered bowls.
          </Base:Description>
          <Base:Description type="taste">
             As you taste the water you note the customary mineral taste of most water fountains within the city.
          </Base:Description>
        </Base:Descriptions>
        <Base:Exit door="false" never_obvious="false" obvious_when_open="false" hidden_when_closed="false" separate="false" self-locking="false" deadbolt="false"/>
        <Base:Climbable/>
      </Base:Detail>
    </Base:Details>
    <Base:Combat>
      <Base:Strength value="1"/>
      <Base:MaxFatigue value="1"/>
    </Base:Combat>
    <Base:Clothing>
      <Base:SingleWear value="false"/>
    </Base:Clothing>
    <Base:Crafting see_level="0" do_level="0" time="0" attention="false" held="false">
      <Base:Ingredients/>
      <Base:Tools/>
      <Base:CraftVerbs/>
    </Base:Crafting>
    <Base:InitialContents/>
    <Base:InitialProperties/>
    <Core:Properties>
      <Core:Property property="base:initialcontents"/>
      <Core:Property property="merry:react-pre:refill-iob">
         X[M] /* D=Refill first appropriate container in actor's inventory from this vessel. */       
constant THE = STYLE_DEFINITE \| STYLE_NONPOSS;       
object liquid, container, refiller, holder;       
int    potential;       

\$water = \$\{Allegory:Props:Drinks:NonAlcoholic:Liquids:Water\};

if(NRefDetail(\$iob[0]) != "water") \{
    EmitTo(\$actor, "You can not refill anything from " + Describe(\$iob[0]) + ".");
    return FALSE;
\}

if(!\$dob \|\| !sizeof(\$dob)) \{
    EmitTo(\$actor, "What did you want to refill?");
    return FALSE;
\}

if(sizeof(\$dob) \> 1) \{
    EmitTo(\$actor, "You can only refill one thing at a time.");
    return FALSE;
\}

\$cup = NRefOb(\$dob[0]);

if(sizeof(\$cup."base:inventory")) \{
    if(\$cup."base:inventory"[0]."base:urparent" != \$\{Allegory:Props:Drinks:NonAlcoholic:Liquids:Water\}) \{
        EmitTo(\$actor, "You must empty " + Describe(\$cup, nil, nil, STYLE_NONPOSS) + " before filling it with water.");
        return FALSE;
    \} else \{
        \$filledwater = \$cup."base:inventory"[0];
    \}
\}
     

if(!\$cup."sys:shared:consumable:vessel") \{
    EmitTo(\$actor, Describe(\$cup, nil, nil, STYLE_NONPOSS) + " is not a vessel that will hold water.");
    return FALSE;
\}    

\$brim = \$water."base:actualdensity" * \$cup."base:intrinsiccapacity" * 1000.0;
\$brim -= 0.0001;

if(!\$filledwater) \{
    \$filledwater = Spawn(\$water);
    \$filledwater."base:environment" = \$cup;
\}
\$quantity = 1.0;
\$filledwater."base:intrinsicmass" = \$brim * \$quantity;

shared_consumable::consumable_set(\$what: \$filledwater);
         
EmitTo(\$actor, "You collect some water in " + Describe(\$cup, nil, nil, STYLE_NONPOSS) + ".");   
    
EmitIn(\$actor."base:environment", Describe(\$actor) + " collects some water in " + Describe(\$cup, nil, nil, STYLE_NONPOSS) + ".", \$actor);  

return FALSE;
      </Core:Property>
      <Core:Property property="misc:lastdropped">
         "1193784182 StoryBuilder Guinness[rorschakovacs]"
      </Core:Property>
      <Core:Property property="new property name">
         "New Property Value"
      </Core:Property>
      <Core:Property property="revisions">
         (\{ 1564280523, "ezralee", "E", 1569799916, "sendnoodlez", "R", 1615698405, "ezralee", "K", 1615699211, "ezralee", "K", 1615699215, "ezralee", "E", 1615699331, "ezralee", "E", 1615699368, "ezralee", "E", 1615700619, "ezralee", "K", 1615700628, "ezralee", "E", 1648177957, "ezralee", "E", 1648177978, "ezralee", "E" \})
      </Core:Property>
      <Core:Property property="skill:fatigue">1.0</Core:Property>
      <Core:Property property="spawn:creator">
         (\{ "rorschakovacs", 1193784175 \})
      </Core:Property>
      <Core:Property property="trait:smells:lastchecked">
         1594231862
      </Core:Property>
    </Core:Properties>
    <Notes:Notes/>
  </Base:Thing>
</object>
